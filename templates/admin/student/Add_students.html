<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Add New Student</title>
    <!-- Link to your existing CSS or use Bootstrap like the professor template -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/bootstrap/5.3.0/css/bootstrap.min.css">
    <link rel="stylesheet" href="{{ url_for('static', filename='./css/admin/style1.css') }}"> <!-- Optional: Keep your custom CSS too -->
    <style>
        /* Optional: Add some margin if needed */
        .container { padding-top: 2rem; padding-bottom: 2rem; }
        .alert { margin-top: 1rem; }
    </style>
</head>
<body>
    <div class="container">
        <h1>Add New Student</h1>

        {% with messages = get_flashed_messages(with_categories=true) %}
            {% if messages %}
                <div class="mt-3">
                {% for category, message in messages %}
                    <div class="alert alert-{{ category }} alert-dismissible fade show" role="alert">
                        {{ message }}
                        <button type="button" class="btn-close" data-bs-dismiss="alert" aria-label="Close"></button>
                    </div>
                {% endfor %}
                </div>
            {% endif %}
        {% endwith %}

        <form method="POST" class="mt-4">
            <div class="mb-3">
                <label for="name" class="form-label">Full Name:</label>
                <input type="text" class="form-control" id="name" name="name" required>
            </div>

            <div class="mb-3">
                <label for="degree_id" class="form-label">Degree:</label>
                <!-- Use the 'degrees' list passed from Flask -->
                <select class="form-select" id="degree_id" name="degree_id" required>
                    <option value="" disabled selected>-- Select Degree --</option>
                    {% for degree in degrees %}
                        <option value="{{ degree.degreeId }}">{{ degree.degreeName }}</option>
                    {% else %}
                        <option value="" disabled>No degrees found</option>
                    {% endfor %}
                </select>
            </div>

            <div class="mb-3">
                <label for="department_id" class="form-label">Department:</label>
                <!-- Use the 'departments' list passed from Flask -->
                <select class="form-select" id="department_id" name="department_id" required>
                     <option value="" disabled selected>-- Select Department --</option>
                     {% for dept in departments %}
                         <option value="{{ dept.departmentId }}">{{ dept.deptName }}</option>
                     {% else %}
                         <option value="" disabled>No departments found</option>
                     {% endfor %}
                </select>
            </div>

            <div class="mb-3">
                <label for="join_date" class="form-label">Date of Joining:</label>
                <input type="date" class="form-control" id="join_date" name="join_date" required>
            </div>

            <div class="mb-3">
                <label for="dob" class="form-label">Date of Birth:</label>
                <input type="date" class="form-control" id="dob" name="dob" required>
            </div>

            <div class="mb-3">
                <label for="gender" class="form-label">Gender:</label>
                <select class="form-select" id="gender" name="gender" required>
                    <option value="Male">Male</option>
                    <option value="Female">Female</option>
                    <option value="Other">Other</option>
                </select>
            </div>
            <button type="submit" class="btn btn-primary">Add Student</button>
        </form>
    </div>
    <!-- Include Bootstrap JS for features like alert dismissal -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/bootstrap/5.3.0/js/bootstrap.bundle.min.js"></script>
</body>
</html>